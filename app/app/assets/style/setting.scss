:root {
  // 文字颜色
  --color-text-primary: rgba(0, 0, 0, 0.88);
  --color-text-content: #262626;
  --color-text-desc: rgba(0, 0, 0, 0.55);

  // 背景色
  --color-body-bg: #ffffff;
  --color-menu-bg: #e1e1e1;
  --color-item-color: rgba(0, 0, 0, 0.1);

  // 主题色
  --color-primary: #1677ff;
  --color-primary-hover: #4096ff;
  --color-primary-active: #0958d9;

  // 边框和分割线
  --color-border: #d9d9d9;
  --color-border-hover: #4096ff;
  --color-split: rgba(5, 5, 5, 0.06);

  // 卡片和容器
  --color-bg-container: #ffffff;
  --color-bg-elevated: #dcdcdc;

  // 状态色
  --color-success: #52c41a;
  --color-warning: #faad14;
  --color-error: #ff4d4f;

  // 动画
  --transition-all: all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);
}

.dark {
  // 文字颜色
  --color-text-primary: rgba(255, 255, 255, 0.85);
  --color-text-content: rgba(255, 255, 255, 0.75);
  --color-text-desc: rgba(255, 255, 255, 0.45);

  // 背景色
  --color-body-bg: #141414;
  --color-menu-bg: #1f1f1f;
  --color-item-color: rgba(255, 255, 255, 0.08);

  // 主题色
  --color-primary: #1668dc;
  --color-primary-hover: #1677ff;
  --color-primary-active: #0958d9;

  // 边框和分割线
  --color-border: #424242;
  --color-border-hover: #1677ff;
  --color-split: rgba(253, 253, 253, 0.12);

  // 卡片和容器
  --color-bg-container: #1f1f1f;
  --color-bg-elevated: #272727;

  // 状态色保持不变，便于识别
  --color-success: #52c41a;
  --color-warning: #faad14;
  --color-error: #ff4d4f;
}

// 覆盖基础样式
body {
  margin: 0;
  padding: 0;
  color: var(--color-text-content);
  background-color: var(--color-body-bg);
  transition: var(--transition-all);
}

// 链接样式
a {
  color: var(--color-primary);
  text-decoration: none;
  transition: var(--transition-all);

  &:hover {
    color: var(--color-primary-hover);
  }

  &:active {
    color: var(--color-primary-active);
  }
}

// 段落样式
p {
  color: var(--color-text-content);
  margin: 1em 0;
  line-height: 1.6;
}

// 列表样式
ul,
ol {
  color: var(--color-text-content);
  padding-left: 1.5em;
  margin: 1em 0;

  li {
    margin: 0.5em 0;
  }
}

// 表格样式
table {
  width: 100%;
  border-collapse: collapse;
  margin: 1em 0;

  th,
  td {
    padding: 0.75em;
    border: 1px solid var(--color-border);
    color: var(--color-text-content);
  }

  th {
    background-color: var(--color-menu-bg);
    color: var(--color-text-primary);
    font-weight: 500;
  }

  tr:hover {
    background-color: var(--color-item-color);
  }
}

// 表单元素样式
input,
textarea,
select {
  color: var(--color-text-content);
  background-color: var(--color-bg-container);
  border: 1px solid var(--color-border);
  padding: 0.5em;
  border-radius: 4px;
  transition: var(--transition-all);

  &:hover {
    border-color: var(--color-primary-hover);
  }

  &:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(var(--color-primary), 0.2);
  }

  &::placeholder {
    color: var(--color-text-desc);
  }
}

// 代码块样式
pre,
code {
  font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
  background-color: var(--color-menu-bg);
  color: var(--color-text-content);
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-size: 0.9em;
}

pre {
  padding: 1em;
  overflow-x: auto;

  code {
    background: none;
    padding: 0;
  }
}

// 引用样式
blockquote {
  margin: 1em 0;
  padding: 0.5em 1em;
  border-left: 4px solid var(--color-primary);
  background-color: var(--color-menu-bg);
  color: var(--color-text-content);

  p {
    margin: 0.5em 0;
  }
}

// 分割线样式
hr {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: 1em 0;
}

// 选中文本样式
::selection {
  background-color: var(--color-primary);
  color: #fff;
}

// 覆盖 Antd 样式
// Message 全局提示
.ant-message {
  .ant-message-notice-content {
    background: var(--color-bg-elevated);
    color: var(--color-text-content);
    box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08);
  }
}

// Notification 通知提醒框
.ant-notification {
  .ant-notification-notice {
    background: var(--color-bg-elevated);

    &-message {
      color: var(--color-text-primary);
    }

    &-description {
      color: var(--color-text-content);
    }
  }
}

// Dropdown 下拉菜单
.ant-dropdown {
  .ant-dropdown-menu {
    background-color: var(--color-bg-elevated);

    &-item {
      color: var(--color-text-content);

      &:hover {
        background-color: var(--color-item-color);
      }

      &-selected {
        color: var(--color-primary);
        background-color: var(--color-item-color);
      }
    }
  }
}

// Tabs 标签页
.ant-tabs {
  color: var(--color-text-content);

  &-tab {
    color: var(--color-text-desc);

    &:hover {
      color: var(--color-primary-hover);
    }

    &-active {
      color: var(--color-primary) !important;
    }
  }

  &-ink-bar {
    background: var(--color-primary);
  }
}

// Form 表单
.ant-form {
  &-item-label>label {
    color: var(--color-text-content);
  }

  &-item-explain,
  &-item-extra {
    color: var(--color-text-desc);
  }

  &-item-has-error {

    .ant-input,
    .ant-input-affix-wrapper {
      border-color: var(--color-error);

      &:hover {
        border-color: var(--color-error);
      }
    }
  }
}

// Pagination 分页
.ant-pagination {
  color: var(--color-text-content);

  &-item {
    background: var(--color-bg-container);
    border-color: var(--color-border);

    a {
      color: var(--color-text-content);
    }

    &-active {
      border-color: var(--color-primary);

      a {
        color: var(--color-primary);
      }
    }
  }

  &-prev,
  &-next {
    button {
      background: var(--color-bg-container);
      color: var(--color-text-content);
    }
  }
}

// Card 卡片
.ant-card {
  background: var(--color-bg-container);
  border-color: var(--color-border);

  &-head {
    border-bottom-color: var(--color-border);

    &-title {
      color: var(--color-text-primary);
    }
  }

  &-meta {
    &-title {
      color: var(--color-text-primary);
    }

    &-description {
      color: var(--color-text-desc);
    }
  }
}

// Tree 树形控件
.ant-tree {
  background: transparent;
  color: var(--color-text-content);

  &-node-content-wrapper {
    &:hover {
      background-color: var(--color-item-color);
    }

    &.ant-tree-node-selected {
      background-color: var(--color-primary);
      color: #fff;
    }
  }
}

// Tooltip 文字提示
.ant-tooltip {
  .ant-tooltip-inner {
    background-color: var(--color-bg-elevated);
    color: var(--color-text-content);
  }

  .ant-tooltip-arrow-content {
    background-color: var(--color-bg-elevated);
  }
}

// Antd 基础组件样式覆盖
// Button 按钮
.ant-btn {
  color: var(--color-text-content);
  background: var(--color-bg-container);
  border-color: var(--color-border);

  &:hover {
    color: var(--color-primary);
    border-color: var(--color-primary);
  }

  &-primary {
    color: #fff;
    background: var(--color-primary);
    border-color: var(--color-primary);

    &:hover {
      background: var(--color-primary-hover);
      border-color: var(--color-primary-hover);
    }
  }

  &-dangerous {
    color: var(--color-error);
    border-color: var(--color-error);

    &:hover {
      color: #fff;
      background: var(--color-error);
    }
  }
}

// Input 输入框
.ant-input,
.ant-input-affix-wrapper {
  color: var(--color-text-content);
  background-color: var(--color-bg-container);
  border-color: var(--color-border);

  &:hover {
    border-color: var(--color-primary-hover);
  }

  &:focus,
  &-focused {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.1);
  }

  .ant-input-prefix,
  .ant-input-suffix {
    color: var(--color-text-desc);
  }

  // 修复 placeholder 颜色
  &::placeholder {
    color: var(--color-text-desc) !important;
  }
}

// Select 选择器
.ant-select {
  &-selector {
    background-color: var(--color-bg-container) !important;
    border-color: var(--color-border) !important;
  }

  // 选择框中的文字
  &-selection-item,
  &-selection-placeholder {
    color: var(--color-text-content) !important;
  }

  // 选择框中的搜索输入
  &-selection-search-input {
    color: var(--color-text-content) !important;
  }

  // 清除按钮和箭头
  &-clear,
  &-arrow {
    color: var(--color-text-desc) !important;
  }

  &:hover .ant-select-selector {
    border-color: var(--color-primary-hover) !important;
  }

  &-focused .ant-select-selector {
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.1) !important;
  }

  // 下拉菜单样式
  &-dropdown {
    background-color: var(--color-bg-elevated);

    .ant-select-item {
      color: var(--color-text-content);

      &-option-selected {
        background-color: var(--color-item-color);
        color: var(--color-primary) !important;
      }

      &-option-active {
        background-color: var(--color-item-color);
        color: var(--color-text-content);
      }
    }

  }

  // Select 选择器 placeholder
  &-selection-placeholder {
    color: var(--color-text-desc) !important;
  }
}

// TextArea placeholder
.ant-input-textarea {
  textarea::placeholder {
    color: var(--color-text-desc) !important;
  }
}

// 搜索框 placeholder
.ant-input-search {
  .ant-input::placeholder {
    color: var(--color-text-desc) !important;
  }
}

// Checkbox 复选框
.ant-checkbox {
  &-wrapper {
    color: var(--color-text-content);
  }

  &-inner {
    background-color: var(--color-bg-container);
    border-color: var(--color-border);
  }

  &-checked .ant-checkbox-inner {
    background-color: var(--color-primary);
    border-color: var(--color-primary);
  }
}

// Radio 单选框
.ant-radio {
  &-wrapper {
    color: var(--color-text-content);
  }

  &-inner {
    background-color: var(--color-bg-container);
    border-color: var(--color-border);
  }

  &-checked .ant-radio-inner {
    border-color: var(--color-primary);

    &::after {
      background-color: var(--color-primary);
    }
  }
}

// DatePicker 日期选择器
.ant-picker {
  background: var(--color-bg-container);
  border-color: var(--color-border);

  &-input>input {
    color: var(--color-text-content);
  }

  &-suffix,
  &-clear {
    color: var(--color-text-desc);
  }

  &:hover {
    border-color: var(--color-primary-hover);
  }

  &-focused {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.1);
  }

  &-panel {
    background: var(--color-bg-elevated);

    &-container {
      background: var(--color-bg-elevated);
    }

    th {
      color: var(--color-text-desc);
    }

    td {
      color: var(--color-text-content);
    }

    &-cell:hover:not(&-cell-selected) .ant-picker-cell-inner {
      background: var(--color-item-color);
    }

    &-cell-selected .ant-picker-cell-inner {
      background: var(--color-primary);
      color: #fff;
    }
  }
}

// TimePicker 时间选择器
.ant-picker-time-panel {
  background: var(--color-bg-elevated);

  &-cell {
    color: var(--color-text-content);

    &:hover {
      background: var(--color-item-color);
    }

    &-selected {
      background: var(--color-primary);
      color: #fff;
    }
  }
}

// Menu 导航菜单
.ant-menu {
  background: var(--color-menu-bg) !important;
  border-right: 1px solid var(--color-border);

  // 菜单项
  &-item {
    color: var(--color-text-content) !important;

    &:hover {
      background-color: var(--color-item-color) !important;
    }

    // 选中状态
    &-selected {
      color: var(--color-primary) !important;
      background-color: var(--color-item-color) !important;

      &::after {
        border-right-color: var(--color-primary) !important;
      }
    }
  }

  // 暗色主题特殊处理
  &.ant-menu-dark {
    background: var(--color-menu-bg) !important;

    .ant-menu-item {
      color: var(--color-text-content) !important;

      &:hover {
        background-color: var(--color-item-color) !important;
      }

      &-selected {
        color: var(--color-primary) !important;
        background-color: var(--color-item-color) !important;
      }
    }
  }
}

// Modal 对话框
.ant-modal {
  .ant-modal-content {
    background: var(--color-bg-container);
    color: var(--color-text-content);
  }

  .ant-modal-header {
    background: var(--color-bg-container);
    border-bottom-color: var(--color-border);
    text-align: center;

    .ant-modal-title {
      color: var(--color-text-primary);
    }
  }

  .ant-modal-body {
    color: var(--color-text-content);
  }

  .ant-modal-footer {
    border-top-color: var(--color-border);
    text-align: center;

    .ant-btn {
      color: var(--color-text-content);
      background: var(--color-bg-container);
      border-color: var(--color-border);
      min-width: 80px;

      &:hover {
        color: var(--color-primary);
        border-color: var(--color-primary);
      }

      &:focus {
        color: var(--color-primary);
        border-color: var(--color-primary);
      }

      &-primary {
        color: #fff !important;
        background: var(--color-primary);
        border-color: var(--color-primary);

        &:hover {
          color: #fff !important;
          background: var(--color-primary-hover);
          border-color: var(--color-primary-hover);
        }

        &:focus {
          color: #fff !important;
          background: var(--color-primary);
          border-color: var(--color-primary);
        }

        &.ant-btn-dangerous {
          color: #fff !important;
          background: var(--color-error);
          border-color: var(--color-error);

          &:hover {
            color: #fff !important;
            background: #ff7875;
            border-color: #ff7875;
          }

          &:focus {
            color: #fff !important;
            background: var(--color-error);
            border-color: var(--color-error);
          }
        }
      }
    }
  }

  .ant-modal-close {
    color: var(--color-text-desc);

    &:hover {
      color: var(--color-text-primary);
      background: var(--color-item-color);
    }
  }
}

// Modal 遮罩层
.ant-modal-mask {
  background-color: rgba(0, 0, 0, 0.45);
}

.dark .ant-modal-mask {
  background-color: rgba(0, 0, 0, 0.65);
}